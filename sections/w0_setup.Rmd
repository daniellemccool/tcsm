# Software Setup {-}

This Chapter helps you prepare for the course. It shows how to install R and 
RStudio on your computer. We'll also provide some general information on R and 
how you can get help if you get error messages. 

If you're already using R, all of this might be nothing new for you. You may 
**skip** this chapter then.

If you have **never used R before, this Chapter is essential**, as it gives you 
some input on how R works and how we can use it for our data analyses.

![](../images/chap2.jpg)

## Installing software 

Before we start the course, we have to install three things:

- **R**: A free program for statistical programming
- **RStudio**: An integrated development environment (IDE) which makes it easier 
to work with R. 
- Several **packages**: Separate pieces of 'add-on' software for R with 
functions to do specific analyses. Packages also include documentation describing 
how to use their functions and sample data.

---

### Installing R

The latest version of R is available [here](https://cran.r-project.org).

- Click the appropriate link for your operating system and follow the 
instructions for installing the latest stable release.
- Depending on which OS you select, you may be given an option to install 
different components (e.g., *base*, *contrib*, *Rtools*). For this course, you 
will only need the *base* package. 

---

### Installing RStudio

```{r, echo = FALSE, fig.width = 3, fig.height = 2}
library(png)
library(grid)
img <- readPNG(paste0(imageDir, "rstudiologo.PNG"))
grid.raster(img)
```

Download the Free Desktop version of RStudio from the 
[download page](https://www.rstudio.com/products/rstudio/download/) of the 
[RStudio website](https://www.rstudio.com/).

---

### Installing packages {#installpackages}

To participate in this course, you will need a few essential **R packages**. 
Here's an overview of the packages and why we need them:

```{r, echo = FALSE}
data.frame(
  Package = c("lavaan", 
              "ggplot2", 
              "tidySEM", 
              "semTools", 
              "psych", 
              "foreign", 
              "readxl"),
  Description = c("A sophisticated and user-friendly package for structural equation modeling", 
                  "A flexible and user-friendly package for making graphs", 
                  "Plotting and tabulating the output of SEM-models", 
                  "Comparing models, establishing measurement invariance across groups", 
                  "Descriptive statistics", 
                  "Loading data from SPSS '.sav' files", 
                  "Loading data from Excel '.xslx' files")
  ) %>%
  knitr::kable()
```

To install these packages, we use the `install.packages()` function in R.

1. Open RStudio
1. Inside RStudio, find the window named **Console** on left side of the screen.
3. Copy the following code into the console and hit `Enter`/`Return` to run the 
command.

```{r, eval = FALSE}
install.packages(c("lavaan", 
                   "ggplot2", 
                   "tidySEM", 
                   "semTools", 
                   "psych", 
                   "foreign", 
                   "readxl"), 
                 dependencies = TRUE)
```

## Basic usage

### Starting a new project in Rstudio
 
To keep all your work organized, you should use a **project**. In Rstudio, click 
on the *New project* button:

![](../images/tut_new_proj.png)

1. In the pop-up dialog, click *New Directory*.
1. Click *New Project*.
1. Type the desired directory name in the dialog box 
   - Give a meaningful name, e.g., "TCSM_Course".
   - Use the *Browse* button if you need to change the location of the directory 
   that you will use to store this project. 

Now, you have created a new project and linked it to your current RStudio session 
(this linking is done automatically when you create a new project). To do any
useful work, you need to create an R script where you can write your code.

1. Click *File > New File > R Script*. 

You should now see a new pane in your RStudio session containing the empty R 
script you just created. To write your code, you simply type plain text into this 
script, but, the text you type represents R commands that you can execute any 
time you want. 

- Your should follow this procedure to create a separate R script for each 
practical (when the time comes, no need to do so now) and for each of your 
assignments.

<!----------------------------------------------------------------------------->

### Typesetting Conventions

Throughout the guide, we (trye to) use a consistent set of typographic conventions:

- Functions are in a code font, the name is always followed by parentheses
   - E.g., `sum()`, `mean()`
- Other R objects (e.g., data objects, function arguments) are in a code font 
without parentheses
   - E.g., `seTE`, `method.tau` 
- Sometimes, we’ll use the package name followed by two colons, like
`lavaan::sem()`. This command is valid R code and will run if you copy it into 
your R console. The `lavaan::` part indicates that the function `sem()` comes 
from the package `lavaan`.

<!----------------------------------------------------------------------------->

### Getting Help

As you start to apply the techniques described in this guide, you will soon have
questions that the guide does not answer. This section describes a few tips on 
how to get help answering these questions.

1. Every function in R has documentation (i.e., a help file). To see this file 
in RStudio, select the name of the function in your script, and press F1, or run 
the command `?` followed by the name of the function (e.g., `?aov`).
   - The second option works outside of RStudio, too.
1. If you get stuck, start with **Google**. 
   - Typically, adding “R” to a search is enough to return relevant results (e.g., 
   "exploratory factor analysis R"). 
   - Google is particularly useful for error messages. If you get an error 
   message that you don't understand, try googling it. Someone else has almost
   certainly been confused by the same message in the past, and there will be 
   help somewhere on the web. 
   - If the error message isn’t in English, run `Sys.setenv(LANGUAGE = "en")` 
   and re-run the code that produced the error (you’re more likely to find help 
   for English error messages.)
1. If Google doesn’t help, try [stackoverflow](https://stackoverflow.com). 
   - Before posting your question, spend some time searching the site for an 
   existing answer (active contributors really hate it when you ask a question 
   that has already been answered on the site).
   - Including [R] restricts your search to questions and answers that use R.
1. Lastly, if you find errors (or typos!) in this guide's text or R syntax, feel 
free to contact me ([Kyle Lang](mailto:k.m.lang@uu.nl)).

## Getting the course data

All of the data files you will need for the course are available in this 
[SurfDrive directory](https://surfdrive.surf.nl/files/index.php/s/93FzuSnGidunEVA).

- Follow the link to download a ZIP archive containing the data you will need to 
complete the practical exercises.
- Extract these data files to a convenient location on your computer.
