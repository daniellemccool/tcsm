# Basic R Usage {-}


---

### Creating a new R script

Now, you have created a new project and linked it to your current RStudio session 
(this linking is done automatically when you create a new project). To do any
useful work, you need to create an R script where you can write your code.

- Click *File > New File > R Script*. 

You should now see a new pane in your RStudio session containing the empty R 
script you just created. To write your code, you simply type plain text into this 
script, but, the text you type represents R commands that you can execute any 
time you want. 

- Your should follow this procedure to create a separate R script for each 
practical (when the time comes, no need to do so now) and for each of your 
assignments.

<!----------------------------------------------------------------------------->


```{r, echo = FALSE, results = "hide", message = FALSE, eval = FALSE}
library(readxl)
df <- read_excel("happy.xlsx", sheet = 1)
```

### Inspect the data

R does not work with a single spreadsheet (SPSS or Excel). Instead, it can keep many objects in memory. The object `df` is a `data.frame`; an object that behaves similar to a spreadsheet. To see a description of the object, look at the *Environment* tab in the top right of Rstudio, and click the arrow next to `df`.

```{r, echo=FALSE}
library(png)
knitr::include_graphics("environment.PNG")
```

As you can see, the on the top-right pane **Environment**, your file is now listed as a data set in your RStudio environment.

You can make a quick copy of this data set by assigning the `df` object to a new object. This way, you can edit one, and leave the other unchanged. Assign the object `df` to a new object called `df_backup`:

```{r}
df_backup <- df
```

You can also have a look at the contents of `df` by **clicking** the object in the Environment panel, or running the command `head(df)`.

<br><br>

---

## Importing SPSS Files

SPSS files can be loaded using the `foreign` package. All SPSS files for this course are available for download [here](https://github.com/cjvanlissa/TCSM_student).

<!--[here](https://github.com/cjvanlissa/Doing-Meta-Analysis-in-R/blob/master/Problem2.sav?raw=true).-->

```{r, eval = FALSE}
## Load the foreign library
library(foreign)

## Read the SPSS data into 'df':
df <- read.spss("Sesam2.sav", to.data.frame = TRUE)
```

```{r, echo = FALSE}
df <- read.spss(paste0(dataDir, "Sesam2.sav"), to.data.frame = TRUE)
```

